<!DOCTYPE html><html lang="en-US"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Intro to programming: implementing a snake AI üêç</title><meta property="og:type" content="article"/><meta property="og:title" content="Introduction to programming with snake AI"/><meta property="og:description" content="An introduction to programming with the goal of implementing an AI that will compete in the developer game Battlesnake"/><meta property="og:image" content="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fblog.battlesnake.com%2Fcontent%2Fimages%2F2021%2F06%2FMediumSocial-1.png&amp;f=1&amp;nofb=1"/><meta name="twitter:card" content="summary_large_image"/><script>
            MathJax = {
              tex: {
                inlineMath: [['$', '$']]
              },
              svg: {
                fontCache: 'global'
              }
            };
            console.log("Loaded MathJax config");
        </script><script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><meta name="next-head-count" content="10"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><script>if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {           document.documentElement.classList.add('dark')             } else {           document.documentElement.classList.remove('dark')             }</script><link rel="preload" href="/_next/static/css/2fa56c1d4287c028.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2fa56c1d4287c028.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-e70c6273bfe3f237.js" defer=""></script><script src="/_next/static/chunks/main-a054bbf31fb90f6a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-72b3c9a164c2775a.js" defer=""></script><script src="/_next/static/chunks/29107295-f29cbf9716887c91.js" defer=""></script><script src="/_next/static/chunks/123-2d5a47533d991588.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-7fcd22e58c5c3195.js" defer=""></script><script src="/_next/static/l3mt7_VkBX1JnSMRHKuzk/_buildManifest.js" defer=""></script><script src="/_next/static/l3mt7_VkBX1JnSMRHKuzk/_ssgManifest.js" defer=""></script><script src="/_next/static/l3mt7_VkBX1JnSMRHKuzk/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="flex flex-col min-h-screen"><header id="TOP" class="py-4 px-8"><div class="container max-w-3xl mx-auto flex justify-between"><a class="font-mono no-underline" href="/">~/</a><div class="font-mono my-auto text-accent-1-light dark:text-accent-1-dark"><span class="hidden sm:block ">cochaviz@bunkernet.dev</span> <span class="block sm:hidden ">cochaviz</span> </div><div class="flex gap-x-2"><a href="https://www.github.com/cochaviz"> github </a><a href="https://www.linkedin.com/in/cochaviz"> linkedin </a><button id="dark-mode-toggle-light" class="border-background-alter-light dark:border-background-alter-dark border-2 px-2 hidden dark:block">light mode</button><button id="dark-mode-toggle-dark" class="border-background-alter-light dark:border-background-alter-dark border-2 px-2 block dark:hidden">dark mode</button></div></div></header><main class="container max-w-2xl"><div><a class="text-5xl font-sans no-underline fixed bottom-5 right-5 sm:bottom-10 sm:right-10 z-50 bg-background-light dark:bg-background-dark border-border-light dark:border-border-dark px-3 pb-2 border-double border-4" href="#TOP">‚Üë</a><h1>Intro to programming: implementing a snake AI üêç</h1><div><nav class="table-of-contents"><ol><li><a href="#introduction">Introduction</a><ol><li><a href="#prerequisites">Prerequisites</a></li><li><a href="#structure">Structure</a></li></ol></li><li><a href="#battlesnake">Battlesnake</a><ol><li><a href="#how-battlesnake-works">How Battlesnake works</a></li><li><a href="#creating-our-first-snake">Creating our first snake</a></li><li><a href="#how-battlesnake-actually-works">How Battlesnake actually works</a></li></ol></li><li><a href="#getting-the-server-running">Getting the server running</a><ol><li><a href="#creating-your-first-repository">Creating your first repository</a><ol><li><a href="#git-primer">Git primer</a></li><li><a href="#working-with-git">Working with git</a></li></ol></li><li><a href="#exploring-the-code-base">Exploring the code base</a><ol><li><a href="#web-requests">Web requests</a></li><li><a href="#trying-it-out">Trying it out</a></li><li><a href="#snake-logic">Snake logic</a></li></ol></li><li><a href="#making-a-web-service-with-heroku">Making a web service with Heroku</a></li></ol></li><li><a href="#programming-the-snake">Programming the snake</a><ol><li><a href="#making-the-snake-beautiful">Making the snake beautiful</a></li><li><a href="#making-the-snake-not-stupid">Making the snake not stupid</a></li><li><a href="#making-the-snake-smart">Making the snake smart</a></li></ol></li><li><a href="#beyond-this-tutorial">Beyond this tutorial</a><ol><li><a href="#ci%2Fcd">CI/CD</a></li><li><a href="#tree-snakes">Tree snakes</a></li></ol></li></ol></nav><h2 id="introduction" tabindex="-1">Introduction</h2>
<p>In this guide I'll walk you through concepts of programming and application
development by example of an AI  that will play the game
<a href="https://play.battlesnake.com/">Battlesnake</a>. The aim of this tutorial is to
help you step beyond the 'programming a calculator' phase. You know what
language you want to learn, have a grasp of basic syntax and know how logic in
programming works (e.g. if statements). But what now? Well, writing an AI
üòé. We will cover:</p>
<ul>
<li>problem representation and solving</li>
<li>version control with <a href="https://git-scm.com">git</a> and
<a href="https://www.github.com">GitHub</a></li>
<li>some high-level concepts regarding web services and
<a href="https://en.wikipedia.org/wiki/API">APIs</a></li>
<li>setting up a server with <a href="https://www.heroku.com">Heroku</a></li>
</ul>
<p>Battlesnake is a great place to start from. Firstly, because it touches upon a
lot of different concepts in software development.  Secondly, your AI will
battle against that of other people and there are leaderboards to show you how
well it performs. This means that you can see your snake improve with your
programming abilities!</p>
<p>I can hear you ask: &quot;Great, but what language are we gonna be programming in?&quot;.
Since we are essentially  creating a <a href="https://en.wikipedia.org/wiki/Web_service">web
service</a>, you can do this in any
language you want!  The Battlesnake devs and the community have created some
<a href="https://docs.battlesnake.com/references/starter-projects">starter projects</a>
which will help you get started in minutes. If you language is in there, great!
Otherwise, don't worry.  I'll be explaining everything in <a href="https://go.dev/">Go</a>,
but the concepts are the same so you can follow along in any language.  I
understand it might be confusing to understand what is language-specific and
what isn't, so I'll make sure keep concepts and  implementation separate.</p>
<h3 id="prerequisites" tabindex="-1">Prerequisites</h3>
<p>The tutorial assumes that you are a beginner, but that you have some basic
knowledge about programming.  More specifically, you</p>
<ul>
<li><strong>have an environment</strong> in which you can write and run code (i.e. an IDE)</li>
<li><strong>know how use logic</strong> in you programming language of choice (e.g. if-statements)</li>
<li>know how to use any of: <strong>classes/objects/structs</strong> (if you language supports
those)</li>
<li><strong>have made a couple of small practice projects</strong> (not necessary, but highly
recommended for fluency)</li>
</ul>
<p>If some of these don't apply to you, I would highly encourage you to pick up a
basic course on <a href="https://www.codecademy.com/">codecademy</a> or follow some
tutorials on youtube. Create your first couple of little projects, and then come
back! Do feel free to keep on looking, maybe you're a lot smarter than you (or
I) think you are.</p>
<h3 id="structure" tabindex="-1">Structure</h3>
<p>We will cover a wide range of topics, so I will try to keep the structure as
consistent and easy to follow as possible.  Like mentioned before, while I will
be using Go to illustrate examples, I will try to keep all language-dependent
parts separate.</p>
<p>First, I'll introduce the game, Battlesnake, rules and the different tools we'll
need.  Then we'll touch upon web services and APIs; how our application will
communicate with the Battlesnake server.  Following that, I'll introduce
software to manage different versions of your code, and a platform to upload
your code to.  Finally, we will spin up a server which will use the code we've
uploaded previously to run our snake on!</p>
<p>You are, of course, free to stop at any moment and resume at a later date.
Actually, I highly encourage this! Take breaks regularly, especially if things
don't seem to work when they should... üêõ. We'll cover a lot of material, so
buckle up, grab some snacks, and let's get going üöÄ!</p>
<h2 id="battlesnake" tabindex="-1">Battlesnake</h2>
<blockquote>
<p>Battlesnake is a multi-player programming game played by developers all over
the world. All you need to play is a live web server that implements the
Battlesnake API.</p>
<p>‚Äî‚Äáplay.battlesnake.com</p>
</blockquote>
<p><a href="https://play.battlesnake.com/">Battlesnake</a> is a developer-oriented game,
meaning that everything in, about, and around the game is made by developers,
for developers. This means that there are a lot of resources out there that can
help us out.  Best example is, of course, the original <a href="https://docs.battlesnake.com/">Battlesnake
documentation</a>, which I encourage you to read and
refer to whenever you're lost before trying to <em>DuckDuck Go</em> it.</p>
<h3 id="how-battlesnake-works" tabindex="-1">How Battlesnake works</h3>
<p>The Battlesnake game rules are simple. In the default game mode, the goal is to
be the last-snake-standing among a group of  three other snakes. Besides that,
the normal rules of snake apply:</p>
<ol>
<li>don't run into walls</li>
<li>don't run into snakes (you and others)</li>
<li>eating food makes you grow üçé</li>
</ol>
<p>There are some other edge-cases to consider (e.g. what do you do when heads
collide), but these don't matter much for our purposes. Please refer to the
official documentation if you want to learn more.</p>
<h3 id="creating-our-first-snake" tabindex="-1">Creating our first snake</h3>
<p>Enough talking! Let's create a snake! To do this, we'll first need to create an
account. One option is to create an account with GitHub. Choose this one. Like
mentioned before, we'll use this platform to host our code, so we need an
account for that anyway. <a href="https://github.com/signup">Create an account</a> for
GitHub, then head over to Battlesnake to <a href="https://play.battlesnake.com/login/">create an
account</a> and select the <strong>Sign in with
GitHub</strong> button.</p>
<p>Awesome, now we can head over to Battlesnake to <a href="https://play.battlesnake.com/account/snakes/create/">create a new
snake</a>. Give it a name (I
name my snakes after Lord of the Rings characters)! And... Huh? A URL? Yes, a
URL. This is where the fun begins. For now we'll cancel, since the URL is a
required field, but head to next section and I'll explain what's going on.</p>
<h3 id="how-battlesnake-actually-works" tabindex="-1">How Battlesnake <em>actually</em> works</h3>
<p>The reason why we need to provide a URL when creating a snake, is because the
snake is essentially a <a href="https://en.wikipedia.org/wiki/Web_service">web service</a>.
I briefly mentioned this in the introduction, but now I'll elaborate on what
that actually means.</p>
<p>To put it concretely, our snake will run on its own remote computer (server),
the Battlesnake game server will send us the current state of the game (location
of all the snake, food, size of the field, etc.) and ask us what our next move
is.  We then send a response (indicated <code>{response}</code> in the diagram), this
simply contains the action: &quot;up&quot;, &quot;down&quot;, &quot;left&quot;, or &quot;right&quot;. But for the
Battlesnake server to reach us we to tell it our location, the URL. If you would
this manually, this is the equivalent of typing the URL, let's say
<code>my-awesome-snake.dev</code>, and appending <code>/move</code> to it, giving us
<code>my-awesome-snake.dev/move</code>. This is what we call an
<a href="https://en.wikipedia.org/wiki/Communication_endpoint">endpoint</a>. There is also
a endpoint for indicating that we want to start to game, which would be
<code>my-awesome-snake.dev/start</code>. And one for ending the game, <code>/end</code>. You get the
idea.</p>
<figure><img src="/images/post/intro-to-programming-battlesnake/transaction-diagram.svg" alt="transaction
diagram"><figcaption>Transaction diagram of the requests and responses made during a Battlesnake
game. Here to the endpoints <code>/start</code>, <code>/move</code>, and <code>/end</code></figcaption></figure>
<p>As you can imagine, there is no real need to send any info back to the
Battlesnake server when it send a web-request to our snake on <code>/end</code>, telling it
to end the game. But we do definitely need to send a response when we've been
asked to make a move. Just like we really need to receive some information about
the game, for example, what moves the others have made. The specification for
what type of requests we need to handle (does the request contain information?
Do we need to send anything back; give a response?), as well as the format that
the information is in (e.g. a two-dimensional array representing the board) is
called an <a href="https://en.wikipedia.org/wiki/API">Application Programming Interface, or
API</a>.</p>
<p>Having an API is great, because it means that <strong>two programs can
communicate, without them needing to know exactly how the other works</strong>. Since
the only import thing is that they know what to expect when they ask the other
something. Just as they know what to provide in order to make sure the other can
successfully perform their required task. This is exactly the reason why you
should be able to program in any language you want! <strong>As long as you adhere to
the API specification, you can implement your snake in anything you want</strong>.</p>
<p>Of course, the Battlesnake documentation also <a href="https://docs.battlesnake.com/references/api">contains a specification for the
API of the snake</a>. Go and see if
you can find the endpoints mentioned before.  There is actually one more
endpoint I didn't mention, try to see if you can find it and figure out what it
does!</p>
<h2 id="getting-the-server-running" tabindex="-1">Getting the server running</h2>
<p>All right, this is where most of the work is gonna take place, so I'll just tell
you right now what to expect and how we're gonna do it. First, we'll take one of
the beginner projects that I've mentioned before. All of them are on GitHub, and
with just one button we can have our own version of such a so-called
<strong>template</strong> to work with. Then, we'll make sure we have a local version of that
code. This is done with git, which I'll also introduce then (in short, it allows
us to keep track of different versions of our code and lets us sync our local
version with a remote one, in our case GitHub). Once we've got that going, we
will look at Heroku. This is a service that will host our code on a publicly
accessible URL, which will allow us to create our first snake! Once all of this
is set up we will be able to start programming our snake logic. With that said,
let's get going!</p>
<h3 id="creating-your-first-repository" tabindex="-1">Creating your first repository</h3>
<p>Going back to the <a href="https://docs.battlesnake.com/references/starter-projects">starter
projects</a>, click on
the one that you would like to use. This should bring you to GitHub, where you
will click the big green button saying <em><strong>&quot;Use this template&quot;</strong></em>. Give it a name,
keep it public, and click <em><strong>&quot;Create repository from template&quot;</strong></em>.
Congratulations! You have made your first repository  ü•≥!  &quot;But
what is a repository?&quot;, I can hear you ask. Well, let me explain.</p>
<h4 id="git-primer" tabindex="-1">Git primer</h4>
<p>A repository is a folder in which <a href="">git</a> tracks changes in order to organize
the history of your code. And what is git? Well, it simply is a tool to organize
the history, or, the different versions of you code, a <a href="">Version Control
System, or VCS</a>. It allows you to <strong>commit</strong> changes in batches, and requires
you to title and describe each of these batches, or <strong>commits</strong>. Now, let's say
you would like to see if a particular feature would work well. You don't want to
accidentally break your precious program, so you <strong>branch</strong> off to a different
version. In this new branch, you write your code and continue to make commits.
You are a great programmer, so your feature turns out to be a great addition to
the existing program! Now you can <strong>merge</strong> the new feature branch with the
<strong>main</strong> (from which we've originally branched off) one.</p>
<figure><img src="/images/post/intro-to-programming-battlesnake/git-history-diagram.svg" alt="git history
diagram"><figcaption>An example of a git history tree. After the first commit on the <code>main</code> branch,
a new feature is tested on a new branch. In the merge, the commits made to the
<code>new-feature</code> branch are applied to the <code>main</code> branch.</figcaption></figure>
<p>GitHub comes in when you would like to work together with other people (or just
have a non-local backup). It is simply a repository stored on the GitHub
servers. If you want to edit code on a repository you would first <strong>clone</strong> the
repository to you local machine. In this local version you would keep track of
your changes like normal, commit similar batches of changes and branching if
need be. At any point, you can choose to <strong>push</strong> your changes to the <strong>remote</strong>
repository on GitHub. This is why it is important to always <strong>pull</strong> before
starting to code on a collaborative project, since someone might have changed
the same code you want to work on. If you don't do this, you might encounter
<strong>conflicts</strong> when you want to push the changes you made to the remote.</p>
<h4 id="working-with-git" tabindex="-1">Working with git</h4>
<p>Now, there are a couple of different options in with regard to performing these
actions on a local version of your new repository. There are applications with
a <strong>graphical user interface (GUI)</strong> such as</p>
<ul>
<li><a href="https://desktop.github.com/">GitHub Desktop</a> - easiest to use in combination
with GitHub</li>
<li><a href="https://www.gitkraken.com/">GitKraken</a> - has a <em>ton</em> of features</li>
<li><a href="https://git-scm.com/downloads/guis">and many more...</a></li>
</ul>
<p>Personally, I like using the command line (<a href="https://git-scm.com/downloads">git
bash</a> for Windows) to use git.  If you don't have
any experience using a <strong>command line interface (CLI)</strong>, I suggest you take one
of the options that includes a GUI. I, however, will be giving explaining what
to do using command line instructions. Which would looks something like this</p>

      <div id="code-parent">
        <pre><code class="hljs language-bash">git add changed_file.go
git commit -m <span class="hljs-string">&quot;Commit #1&quot;</span>
</code></pre>

        <button id="code-copy-button" class="" data-clipboard-text="git add changed_file.go
git commit -m &quot;Commit #1&quot;
" style="text-align: right;" title="Copy code in block">
            <img class="code-copy-button-icon " src="" alt="copy" style="padding: 0px 1em 7px 0px; display:none"/>
            <div class="code-copy-button-text " style="padding-right: 10px; vertical-align:middle;">copy</>
        </button>
      </div>
    <p>Here, I'm adding all my changes from a file called <code>changed_file.go</code>, and then
committing them in a new commit called <em>Commit #1</em>. If you would like to know
how to do that in your git application of choice, simply <em>DuckDuck Go</em> something
along the lines of <em>&quot;how to add on GitHub Desktop&quot;</em> and <em>&quot;how to commit on Github
Desktop&quot;</em>. It might be a little hard at first, but I believe you'll learn more
about the application and how to work with it if you find the solution yourself.</p>
<h3 id="exploring-the-code-base" tabindex="-1">Exploring the code base</h3>
<p>Let's get a little taste of what we're gonna be working with and check if
everything works as it should, before starting to set up our server. In order to
check out the code, we could of course go to repository on GitHub and browse the
code from there. But if we want to make changes, we'll have to have it locally.
So let's do that now.</p>

      <div id="code-parent">
        <pre><code class="hljs language-bash"><span class="hljs-comment"># this will clone the repository &lt;repo&gt; of &lt;username&gt; into the folder &lt;local_repo&gt;</span>
git <span class="hljs-built_in">clone</span> git@github.com:&lt;username&gt;/&lt;repo&gt;.git &lt;local_repo&gt;
</code></pre>

        <button id="code-copy-button" class="" data-clipboard-text="# this will clone the repository <repo> of <username> into the folder <local_repo>
git clone git@github.com:<username>/<repo>.git <local_repo>
" style="text-align: right;" title="Copy code in block">
            <img class="code-copy-button-icon " src="" alt="copy" style="padding: 0px 1em 7px 0px; display:none"/>
            <div class="code-copy-button-text " style="padding-right: 10px; vertical-align:middle;">copy</>
        </button>
      </div>
    <p>This will give us a folder, which we can open with our favorite IDE (mine is
emacs). All the beginner projects have a similar structure of which these are
the most important files.</p>

      <div id="code-parent">
        <pre><code class="hljs"><span class="hljs-comment"># A wildcard (*) indicates any sort of pattern (e.g. py, go, rs, etc.)</span>
<span class="hljs-literal">-</span> logic.*
<span class="hljs-literal">-</span> main.*
<span class="hljs-literal">-</span> logic_test.*
</code></pre>

        <button id="code-copy-button" class="" data-clipboard-text="# A wildcard (*) indicates any sort of pattern (e.g. py, go, rs, etc.)
- logic.*
- main.*
- logic_test.*
" style="text-align: right;" title="Copy code in block">
            <img class="code-copy-button-icon " src="" alt="copy" style="padding: 0px 1em 7px 0px; display:none"/>
            <div class="code-copy-button-text " style="padding-right: 10px; vertical-align:middle;">copy</>
        </button>
      </div>
    <p><code>main.*</code> contains the functions that handle the web requests. <code>logic.*</code> contains
the snake logic; how your snake responds given a game state. <code>logic_test.*</code>
contains some tests for functions defined in <code>logic.*</code>. In the next two sections
I'll discuss the code in these files. Again, it will be done in Go, but you
should be able to follow in any language since the structure is similar.</p>
<h4 id="web-requests" tabindex="-1">Web requests</h4>
<p>Opening <code>main.go</code> file will show a couple of functions and structs. The functions are
for handling web requests, and the structs show how the data should be
<strong>parsed</strong> from the incoming web request. All these data structures have to do
with the <code>GameState</code> that we get from a request at the <code>/move</code> endpoint.</p>
<p>We can see four different handlers:</p>

      <div id="code-parent">
        <pre><code class="hljs language-go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">HandleIndex</span><span class="hljs-params">(w http.ResponseWriter, r *http.Request)</span></span> {
  [...]
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">HandleStart</span><span class="hljs-params">(w http.ResponseWriter, r *http.Request)</span></span> {
  [...]
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">HandleMove</span><span class="hljs-params">(w http.ResponseWriter, r *http.Request)</span></span> {
  [...]
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">HandleEnd</span><span class="hljs-params">(w http.ResponseWriter, r *http.Request)</span></span> {
  [...]
}
</code></pre>

        <button id="code-copy-button" class="" data-clipboard-text="func HandleIndex(w http.ResponseWriter, r *http.Request) {
  [...]
}

func HandleStart(w http.ResponseWriter, r *http.Request) {
  [...]
}

func HandleMove(w http.ResponseWriter, r *http.Request) {
  [...]
}

func HandleEnd(w http.ResponseWriter, r *http.Request) {
  [...]
}
" style="text-align: right;" title="Copy code in block">
            <img class="code-copy-button-icon " src="" alt="copy" style="padding: 0px 1em 7px 0px; display:none"/>
            <div class="code-copy-button-text " style="padding-right: 10px; vertical-align:middle;">copy</>
        </button>
      </div>
    <p>Each one corresponds to a different end point. Here, <code>HandleIndex</code> corresponds
to the <code>/</code>, or <strong>root</strong>, endpoint. The reason that this is called <code>HandleIndex</code>
and not <code>HandleRoot</code>, is because when you normally type a URL, for example
<code>duckduckgo.com</code>, you don't actually go to the root. You browser automatically
starts looking for a file called <code>index.html</code> on the corresponding website (i.e.
<code>duckduckgo.com/index.html</code>). In its simplest form, a website is nothing more
than a server that serves <code>html</code> files. Which is also why <code>/</code> is called the
root, because <strong>it is the root of the filesystem of the server</strong>.</p>
<h4 id="trying-it-out" tabindex="-1">Trying it out</h4>
<p>To check if the server runs like it should (and it should), you can run the
project in whatever IDE you have. In Go, using the command line, it would look
like this:</p>

      <div id="code-parent">
        <pre><code class="hljs language-bash">go run main.go
</code></pre>

        <button id="code-copy-button" class="" data-clipboard-text="go run main.go
" style="text-align: right;" title="Copy code in block">
            <img class="code-copy-button-icon " src="" alt="copy" style="padding: 0px 1em 7px 0px; display:none"/>
            <div class="code-copy-button-text " style="padding-right: 10px; vertical-align:middle;">copy</>
        </button>
      </div>
    
      <div id="code-parent">
        <pre><code class="hljs language-txt">2022/03/23 21:10:03 Starting Battlesnake Server at http://0.0.0.0:8080...
</code></pre>

        <button id="code-copy-button" class="" data-clipboard-text="2022/03/23 21:10:03 Starting Battlesnake Server at http://0.0.0.0:8080...
" style="text-align: right;" title="Copy code in block">
            <img class="code-copy-button-icon " src="" alt="copy" style="padding: 0px 1em 7px 0px; display:none"/>
            <div class="code-copy-button-text " style="padding-right: 10px; vertical-align:middle;">copy</>
        </button>
      </div>
    <p>Open your browser and type in the URL at the end of the line
(or, <code>http://localhost:8080</code>, they mean the same). If everything works as it
should, you should see something like this:</p>

      <div id="code-parent">
        <pre><code class="hljs language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;apiversion&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cochaviz&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;color&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;#488A16&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;head&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;beluga&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;tail&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;curled&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>

        <button id="code-copy-button" class="" data-clipboard-text="{
  &quot;apiversion&quot;: &quot;1&quot;,
  &quot;author&quot;: &quot;cochaviz&quot;,
  &quot;color&quot;: &quot;#488A16&quot;,
  &quot;head&quot;: &quot;beluga&quot;,
  &quot;tail&quot;: &quot;curled&quot;
}
" style="text-align: right;" title="Copy code in block">
            <img class="code-copy-button-icon " src="" alt="copy" style="padding: 0px 1em 7px 0px; display:none"/>
            <div class="code-copy-button-text " style="padding-right: 10px; vertical-align:middle;">copy</>
        </button>
      </div>
    <p>This is the 'secret' endpoint I was hinting at in the previous chapter! It tells
us information about who made the snake (me üòÑ), what it looks like, and
the version of the API. Knowing the version of the API is important because it
tells you if it even makes sense to interact with the snake any further. If the
Battlesnake game server would see a different API version, it would probably not
interact any further (maybe show you an error when creating the snake) in order
to avoid possible errors.</p>
<p>This is essentially what the Heroku server will do. It will take the code from
GitHub and run it. The only difference is that the URL will be different than
<code>http://0.0.0.0:8080</code>. This address is actually only accessible from your
computer (hinted to by <code>localhost</code>) in order to make sure no malicious users
could gain access to your computer. Technically you <em>could</em> host it yourself
(and once you know a little bit more about networking and hosting I would highly
encourage you to do so!), but for now Heroku is the simplest <em>and</em> safest option.</p>
<h4 id="snake-logic" tabindex="-1">Snake logic</h4>
<p>Having a look in the <code>logic.go</code> shows only a couple of functions, but a lot of
comments. This is where most of the magic will happen, at least, in the
beginning. Once you make your snake more complex, you will inevitably
restructure your project. But, it is a nice place to start from. Let's have a
look together, but do make sure to read through the comments first to see if you
understand what they are supposed to do.</p>

      <div id="code-parent">
        <pre><code class="hljs language-go"><span class="hljs-comment">// This function is called when you register your Battlesnake on play.battlesnake.com</span>
<span class="hljs-comment">// See https://docs.battlesnake.com/guides/getting-started#step-4-register-your-battlesnake</span>
<span class="hljs-comment">// It controls your Battlesnake appearance and author permissions.</span>
<span class="hljs-comment">// For customization options, see https://docs.battlesnake.com/references/personalization</span>
<span class="hljs-comment">// TIP: If you open your Battlesnake URL in browser you should see this data.</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">info</span><span class="hljs-params">()</span></span> BattlesnakeInfoResponse {
  [...]
}

<span class="hljs-comment">// This function is called everytime your Battlesnake is entered into a game.</span>
<span class="hljs-comment">// The provided GameState contains information about the game that&#x27;s about to be played.</span>
<span class="hljs-comment">// It&#x27;s purely for informational purposes, you don&#x27;t have to make any decisions here.</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">start</span><span class="hljs-params">(state GameState)</span></span> {
  [...]
}

<span class="hljs-comment">// This function is called when a game your Battlesnake was in has ended.</span>
<span class="hljs-comment">// It&#x27;s purely for informational purposes, you don&#x27;t have to make any decisions here.</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">end</span><span class="hljs-params">(state GameState)</span></span> {
  [...]
}

<span class="hljs-comment">// This function is called on every turn of a game. Use the provided GameState to decide</span>
<span class="hljs-comment">// where to move -- valid moves are &quot;up&quot;, &quot;down&quot;, &quot;left&quot;, or &quot;right&quot;.</span>
<span class="hljs-comment">// We&#x27;ve provided some code and comments to get you started.</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">move</span><span class="hljs-params">(state GameState)</span></span> BattlesnakeMoveResponse {
  [...]

	<span class="hljs-comment">// Step 0: Don&#x27;t let your Battlesnake move back in on it&#x27;s own neck</span>

  [...]

	<span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Step 1 - Don&#x27;t hit walls.</span>

	<span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Step 2 - Don&#x27;t hit yourself.</span>

	<span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Step 3 - Don&#x27;t collide with others.</span>

	<span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Step 4 - Find food.</span>

	<span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Step 5 - Select a move to make based on strategy, rather than random.</span>
  
  [...]
}
</code></pre>

        <button id="code-copy-button" class="" data-clipboard-text="// This function is called when you register your Battlesnake on play.battlesnake.com
// See https://docs.battlesnake.com/guides/getting-started#step-4-register-your-battlesnake
// It controls your Battlesnake appearance and author permissions.
// For customization options, see https://docs.battlesnake.com/references/personalization
// TIP: If you open your Battlesnake URL in browser you should see this data.
func info() BattlesnakeInfoResponse {
  [...]
}

// This function is called everytime your Battlesnake is entered into a game.
// The provided GameState contains information about the game that&lt;s about to be played.
// It&lt;s purely for informational purposes, you don&lt;t have to make any decisions here.
func start(state GameState) {
  [...]
}

// This function is called when a game your Battlesnake was in has ended.
// It&lt;s purely for informational purposes, you don&lt;t have to make any decisions here.
func end(state GameState) {
  [...]
}

// This function is called on every turn of a game. Use the provided GameState to decide
// where to move -- valid moves are &quot;up&quot;, &quot;down&quot;, &quot;left&quot;, or &quot;right&quot;.
// We&lt;ve provided some code and comments to get you started.
func move(state GameState) BattlesnakeMoveResponse {
  [...]

	// Step 0: Don&lt;t let your Battlesnake move back in on it&lt;s own neck

  [...]

	// TODO: Step 1 - Don&lt;t hit walls.

	// TODO: Step 2 - Don&lt;t hit yourself.

	// TODO: Step 3 - Don&lt;t collide with others.

	// TODO: Step 4 - Find food.

	// TODO: Step 5 - Select a move to make based on strategy, rather than random.
  
  [...]
}
" style="text-align: right;" title="Copy code in block">
            <img class="code-copy-button-icon " src="" alt="copy" style="padding: 0px 1em 7px 0px; display:none"/>
            <div class="code-copy-button-text " style="padding-right: 10px; vertical-align:middle;">copy</>
        </button>
      </div>
    <h3 id="making-a-web-service-with-heroku" tabindex="-1">Making a web service with Heroku</h3>
<blockquote>
<p>Just guiding the reader through the process of working with Heroku</p>
</blockquote>
<h2 id="programming-the-snake" tabindex="-1">Programming the snake</h2>
<blockquote>
<p>Actually starting to do some programming</p>
</blockquote>
<h3 id="making-the-snake-beautiful" tabindex="-1">Making the snake beautiful</h3>
<blockquote>
<p>Customize info and show how changes propagate through the whole pipeline</p>
</blockquote>
<h3 id="making-the-snake-not-stupid" tabindex="-1">Making the snake not stupid</h3>
<blockquote>
<p>Get through the basic challenges</p>
</blockquote>
<h3 id="making-the-snake-smart" tabindex="-1">Making the snake smart</h3>
<blockquote>
<p>Getting food, and some heuristics</p>
</blockquote>
<h2 id="beyond-this-tutorial" tabindex="-1">Beyond this tutorial</h2>
<blockquote>
<p>Give some ideas on how to continue</p>
</blockquote>
<h3 id="ci%2Fcd" tabindex="-1">CI/CD</h3>
<blockquote>
<p>Creating a pipeline using a CI/CD tool to check if the snake will actually run</p>
</blockquote>
<h3 id="tree-snakes" tabindex="-1">Tree snakes</h3>
<blockquote>
<p>Small teaser to tree-traversal and the potentials of a better snake</p>
</blockquote>
</div></div></main><footer class="mt-8 p-4 px-8"><div class="container max-w-3xl mx-auto text-neutral-500 dark:text-neutral-400 flex justify-between"><div>¬© 2022 - Zohar Cochavi</div><a href="https://github.com/cochaviz/bunkernet">check the source</a></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"Intro to programming: implementing a snake AI üêç","metaTitle":"Introduction to programming with snake AI","metaDesc":"An introduction to programming with the goal of implementing an AI that will compete in the developer game Battlesnake","metaImg":"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fblog.battlesnake.com%2Fcontent%2Fimages%2F2021%2F06%2FMediumSocial-1.png\u0026f=1\u0026nofb=1","date":"2022-02-16","tags":["wip","battlesnake","tutorial","beginner/novice","ai"]},"content":"\n[[toc]]\n\n## Introduction\n\nIn this guide I'll walk you through concepts of programming and application\ndevelopment by example of an AI  that will play the game\n[Battlesnake](https://play.battlesnake.com/). The aim of this tutorial is to\nhelp you step beyond the 'programming a calculator' phase. You know what\nlanguage you want to learn, have a grasp of basic syntax and know how logic in\nprogramming works (e.g. if statements). But what now? Well, writing an AI\n:sunglasses:. We will cover:\n\n- problem representation and solving \n- version control with [git](https://git-scm.com) and\n  [GitHub](https://www.github.com)\n- some high-level concepts regarding web services and\n  [APIs](https://en.wikipedia.org/wiki/API)\n- setting up a server with [Heroku](https://www.heroku.com)\n\nBattlesnake is a great place to start from. Firstly, because it touches upon a\nlot of different concepts in software development.  Secondly, your AI will\nbattle against that of other people and there are leaderboards to show you how\nwell it performs. This means that you can see your snake improve with your\nprogramming abilities!\n\nI can hear you ask: \"Great, but what language are we gonna be programming in?\".\nSince we are essentially  creating a [web\nservice](https://en.wikipedia.org/wiki/Web_service), you can do this in any\nlanguage you want!  The Battlesnake devs and the community have created some\n[starter projects](https://docs.battlesnake.com/references/starter-projects)\nwhich will help you get started in minutes. If you language is in there, great!\nOtherwise, don't worry.  I'll be explaining everything in [Go](https://go.dev/),\nbut the concepts are the same so you can follow along in any language.  I\nunderstand it might be confusing to understand what is language-specific and\nwhat isn't, so I'll make sure keep concepts and  implementation separate.\n\n### Prerequisites\n\nThe tutorial assumes that you are a beginner, but that you have some basic\nknowledge about programming.  More specifically, you\n\n- **have an environment** in which you can write and run code (i.e. an IDE)\n- **know how use logic** in you programming language of choice (e.g. if-statements)\n- know how to use any of: **classes/objects/structs** (if you language supports\n  those)\n- **have made a couple of small practice projects** (not necessary, but highly\n  recommended for fluency)\n\nIf some of these don't apply to you, I would highly encourage you to pick up a\nbasic course on [codecademy](https://www.codecademy.com/) or follow some\ntutorials on youtube. Create your first couple of little projects, and then come\nback! Do feel free to keep on looking, maybe you're a lot smarter than you (or\nI) think you are.\n\n### Structure\n\nWe will cover a wide range of topics, so I will try to keep the structure as\nconsistent and easy to follow as possible.  Like mentioned before, while I will\nbe using Go to illustrate examples, I will try to keep all language-dependent\nparts separate.\n\nFirst, I'll introduce the game, Battlesnake, rules and the different tools we'll\nneed.  Then we'll touch upon web services and APIs; how our application will\ncommunicate with the Battlesnake server.  Following that, I'll introduce\nsoftware to manage different versions of your code, and a platform to upload\nyour code to.  Finally, we will spin up a server which will use the code we've\nuploaded previously to run our snake on!\n\nYou are, of course, free to stop at any moment and resume at a later date.\nActually, I highly encourage this! Take breaks regularly, especially if things\ndon't seem to work when they should... :bug:. We'll cover a lot of material, so\nbuckle up, grab some snacks, and let's get going :rocket:!\n\n\n## Battlesnake\n\n\u003e Battlesnake is a multi-player programming game played by developers all over\n\u003e the world. All you need to play is a live web server that implements the\n\u003e Battlesnake API. \n\u003e\n\u003e ‚Äî‚Äáplay.battlesnake.com\n\n[Battlesnake](https://play.battlesnake.com/) is a developer-oriented game,\nmeaning that everything in, about, and around the game is made by developers,\nfor developers. This means that there are a lot of resources out there that can\nhelp us out.  Best example is, of course, the original [Battlesnake\ndocumentation](https://docs.battlesnake.com/), which I encourage you to read and\nrefer to whenever you're lost before trying to _DuckDuck Go_ it.\n\n### How Battlesnake works\n\nThe Battlesnake game rules are simple. In the default game mode, the goal is to\nbe the last-snake-standing among a group of  three other snakes. Besides that,\nthe normal rules of snake apply:\n\n1. don't run into walls\n2. don't run into snakes (you and others)\n3. eating food makes you grow :apple:\n\nThere are some other edge-cases to consider (e.g. what do you do when heads\ncollide), but these don't matter much for our purposes. Please refer to the\nofficial documentation if you want to learn more. \n\n### Creating our first snake\n\nEnough talking! Let's create a snake! To do this, we'll first need to create an\naccount. One option is to create an account with GitHub. Choose this one. Like\nmentioned before, we'll use this platform to host our code, so we need an\naccount for that anyway. [Create an account](https://github.com/signup) for\nGitHub, then head over to Battlesnake to [create an\naccount](https://play.battlesnake.com/login/) and select the **Sign in with\nGitHub** button.\n\nAwesome, now we can head over to Battlesnake to [create a new\nsnake](https://play.battlesnake.com/account/snakes/create/ ). Give it a name (I\nname my snakes after Lord of the Rings characters)! And... Huh? A URL? Yes, a\nURL. This is where the fun begins. For now we'll cancel, since the URL is a\nrequired field, but head to next section and I'll explain what's going on.\n\n### How Battlesnake _actually_ works\n\nThe reason why we need to provide a URL when creating a snake, is because the\nsnake is essentially a [web service](https://en.wikipedia.org/wiki/Web_service).\nI briefly mentioned this in the introduction, but now I'll elaborate on what\nthat actually means.\n\nTo put it concretely, our snake will run on its own remote computer (server),\nthe Battlesnake game server will send us the current state of the game (location\nof all the snake, food, size of the field, etc.) and ask us what our next move\nis.  We then send a response (indicated `{response}` in the diagram), this\nsimply contains the action: \"up\", \"down\", \"left\", or \"right\". But for the\nBattlesnake server to reach us we to tell it our location, the URL. If you would\nthis manually, this is the equivalent of typing the URL, let's say\n`my-awesome-snake.dev`, and appending `/move` to it, giving us\n`my-awesome-snake.dev/move`. This is what we call an\n[endpoint](https://en.wikipedia.org/wiki/Communication_endpoint). There is also\na endpoint for indicating that we want to start to game, which would be\n`my-awesome-snake.dev/start`. And one for ending the game, `/end`. You get the\nidea. \n\n![transaction\ndiagram](/images/post/intro-to-programming-battlesnake/transaction-diagram.svg\n\"Transaction diagram of the requests and responses made during a Battlesnake\ngame. Here to the endpoints `/start`, `/move`, and `/end`\")\n\nAs you can imagine, there is no real need to send any info back to the\nBattlesnake server when it send a web-request to our snake on `/end`, telling it\nto end the game. But we do definitely need to send a response when we've been\nasked to make a move. Just like we really need to receive some information about\nthe game, for example, what moves the others have made. The specification for\nwhat type of requests we need to handle (does the request contain information?\nDo we need to send anything back; give a response?), as well as the format that\nthe information is in (e.g. a two-dimensional array representing the board) is\ncalled an [Application Programming Interface, or\nAPI](https://en.wikipedia.org/wiki/API). \n\nHaving an API is great, because it means that **two programs can\ncommunicate, without them needing to know exactly how the other works**. Since\nthe only import thing is that they know what to expect when they ask the other\nsomething. Just as they know what to provide in order to make sure the other can\nsuccessfully perform their required task. This is exactly the reason why you\nshould be able to program in any language you want! **As long as you adhere to\nthe API specification, you can implement your snake in anything you want**.\n\nOf course, the Battlesnake documentation also [contains a specification for the\nAPI of the snake](https://docs.battlesnake.com/references/api). Go and see if\nyou can find the endpoints mentioned before.  There is actually one more\nendpoint I didn't mention, try to see if you can find it and figure out what it\ndoes! \n\n\n## Getting the server running\n\nAll right, this is where most of the work is gonna take place, so I'll just tell\nyou right now what to expect and how we're gonna do it. First, we'll take one of\nthe beginner projects that I've mentioned before. All of them are on GitHub, and\nwith just one button we can have our own version of such a so-called\n**template** to work with. Then, we'll make sure we have a local version of that\ncode. This is done with git, which I'll also introduce then (in short, it allows\nus to keep track of different versions of our code and lets us sync our local\nversion with a remote one, in our case GitHub). Once we've got that going, we\nwill look at Heroku. This is a service that will host our code on a publicly \naccessible URL, which will allow us to create our first snake! Once all of this\nis set up we will be able to start programming our snake logic. With that said,\nlet's get going!\n\n### Creating your first repository\n\nGoing back to the [starter\nprojects](https://docs.battlesnake.com/references/starter-projects), click on\nthe one that you would like to use. This should bring you to GitHub, where you\nwill click the big green button saying ***\"Use this template\"***. Give it a name,\nkeep it public, and click ***\"Create repository from template\"***.\nCongratulations! You have made your first repository  :partying_face:!  \"But\nwhat is a repository?\", I can hear you ask. Well, let me explain. \n\n#### Git primer\nA repository is a folder in which [git]() tracks changes in order to organize\nthe history of your code. And what is git? Well, it simply is a tool to organize\nthe history, or, the different versions of you code, a [Version Control\nSystem, or VCS](). It allows you to **commit** changes in batches, and requires\nyou to title and describe each of these batches, or **commits**. Now, let's say\nyou would like to see if a particular feature would work well. You don't want to\naccidentally break your precious program, so you **branch** off to a different\nversion. In this new branch, you write your code and continue to make commits.\nYou are a great programmer, so your feature turns out to be a great addition to\nthe existing program! Now you can **merge** the new feature branch with the\n**main** (from which we've originally branched off) one. \n\n![git history\ndiagram](/images/post/intro-to-programming-battlesnake/git-history-diagram.svg\n\"An example of a git history tree. After the first commit on the `main` branch,\na new feature is tested on a new branch. In the merge, the commits made to the\n`new-feature` branch are applied to the `main` branch.\")\n\nGitHub comes in when you would like to work together with other people (or just\nhave a non-local backup). It is simply a repository stored on the GitHub\nservers. If you want to edit code on a repository you would first **clone** the\nrepository to you local machine. In this local version you would keep track of\nyour changes like normal, commit similar batches of changes and branching if\nneed be. At any point, you can choose to **push** your changes to the **remote**\nrepository on GitHub. This is why it is important to always **pull** before\nstarting to code on a collaborative project, since someone might have changed\nthe same code you want to work on. If you don't do this, you might encounter\n**conflicts** when you want to push the changes you made to the remote.\n\n#### Working with git\nNow, there are a couple of different options in with regard to performing these\nactions on a local version of your new repository. There are applications with \na **graphical user interface (GUI)** such as\n\n- [GitHub Desktop](https://desktop.github.com/) - easiest to use in combination\n  with GitHub \n- [GitKraken](https://www.gitkraken.com/) - has a _ton_ of features\n- [and many more...](https://git-scm.com/downloads/guis)\n\nPersonally, I like using the command line ([git\nbash](https://git-scm.com/downloads) for Windows) to use git.  If you don't have\nany experience using a **command line interface (CLI)**, I suggest you take one\nof the options that includes a GUI. I, however, will be giving explaining what\nto do using command line instructions. Which would looks something like this\n```bash\ngit add changed_file.go\ngit commit -m \"Commit #1\"\n```\nHere, I'm adding all my changes from a file called `changed_file.go`, and then\ncommitting them in a new commit called _Commit #1_. If you would like to know\nhow to do that in your git application of choice, simply _DuckDuck Go_ something\nalong the lines of _\"how to add on GitHub Desktop\"_ and _\"how to commit on Github\nDesktop\"_. It might be a little hard at first, but I believe you'll learn more\nabout the application and how to work with it if you find the solution yourself.\n\n### Exploring the code base\nLet's get a little taste of what we're gonna be working with and check if\neverything works as it should, before starting to set up our server. In order to\ncheck out the code, we could of course go to repository on GitHub and browse the\ncode from there. But if we want to make changes, we'll have to have it locally.\nSo let's do that now. \n```bash\n# this will clone the repository \u003crepo\u003e of \u003cusername\u003e into the folder \u003clocal_repo\u003e\ngit clone git@github.com:\u003cusername\u003e/\u003crepo\u003e.git \u003clocal_repo\u003e\n```\nThis will give us a folder, which we can open with our favorite IDE (mine is\nemacs). All the beginner projects have a similar structure of which these are\nthe most important files.\n```\n# A wildcard (*) indicates any sort of pattern (e.g. py, go, rs, etc.)\n- logic.*\n- main.*\n- logic_test.*\n```\n`main.*` contains the functions that handle the web requests. `logic.*` contains\nthe snake logic; how your snake responds given a game state. `logic_test.*`\ncontains some tests for functions defined in `logic.*`. In the next two sections\nI'll discuss the code in these files. Again, it will be done in Go, but you\nshould be able to follow in any language since the structure is similar.\n\n#### Web requests\nOpening `main.go` file will show a couple of functions and structs. The functions are\nfor handling web requests, and the structs show how the data should be\n**parsed** from the incoming web request. All these data structures have to do\nwith the `GameState` that we get from a request at the `/move` endpoint.\n\nWe can see four different handlers:\n```go\nfunc HandleIndex(w http.ResponseWriter, r *http.Request) {\n  [...]\n}\n\nfunc HandleStart(w http.ResponseWriter, r *http.Request) {\n  [...]\n}\n\nfunc HandleMove(w http.ResponseWriter, r *http.Request) {\n  [...]\n}\n\nfunc HandleEnd(w http.ResponseWriter, r *http.Request) {\n  [...]\n}\n```\nEach one corresponds to a different end point. Here, `HandleIndex` corresponds\nto the `/`, or **root**, endpoint. The reason that this is called `HandleIndex`\nand not `HandleRoot`, is because when you normally type a URL, for example\n`duckduckgo.com`, you don't actually go to the root. You browser automatically\nstarts looking for a file called `index.html` on the corresponding website (i.e.\n`duckduckgo.com/index.html`). In its simplest form, a website is nothing more\nthan a server that serves `html` files. Which is also why `/` is called the\nroot, because **it is the root of the filesystem of the server**.\n\n#### Trying it out\n\nTo check if the server runs like it should (and it should), you can run the\nproject in whatever IDE you have. In Go, using the command line, it would look\nlike this:\n```bash\ngo run main.go\n```\n```txt\n2022/03/23 21:10:03 Starting Battlesnake Server at http://0.0.0.0:8080...\n```\nOpen your browser and type in the URL at the end of the line\n(or, `http://localhost:8080`, they mean the same). If everything works as it\nshould, you should see something like this:\n```json\n{\n  \"apiversion\": \"1\",\n  \"author\": \"cochaviz\",\n  \"color\": \"#488A16\",\n  \"head\": \"beluga\",\n  \"tail\": \"curled\"\n}\n```\nThis is the 'secret' endpoint I was hinting at in the previous chapter! It tells\nus information about who made the snake (me :smile:), what it looks like, and\nthe version of the API. Knowing the version of the API is important because it\ntells you if it even makes sense to interact with the snake any further. If the\nBattlesnake game server would see a different API version, it would probably not\ninteract any further (maybe show you an error when creating the snake) in order\nto avoid possible errors. \n\nThis is essentially what the Heroku server will do. It will take the code from\nGitHub and run it. The only difference is that the URL will be different than\n`http://0.0.0.0:8080`. This address is actually only accessible from your\ncomputer (hinted to by `localhost`) in order to make sure no malicious users\ncould gain access to your computer. Technically you _could_ host it yourself\n(and once you know a little bit more about networking and hosting I would highly\nencourage you to do so!), but for now Heroku is the simplest _and_ safest option.\n\n#### Snake logic\nHaving a look in the `logic.go` shows only a couple of functions, but a lot of\ncomments. This is where most of the magic will happen, at least, in the\nbeginning. Once you make your snake more complex, you will inevitably\nrestructure your project. But, it is a nice place to start from. Let's have a\nlook together, but do make sure to read through the comments first to see if you\nunderstand what they are supposed to do.\n\n```go\n// This function is called when you register your Battlesnake on play.battlesnake.com\n// See https://docs.battlesnake.com/guides/getting-started#step-4-register-your-battlesnake\n// It controls your Battlesnake appearance and author permissions.\n// For customization options, see https://docs.battlesnake.com/references/personalization\n// TIP: If you open your Battlesnake URL in browser you should see this data.\nfunc info() BattlesnakeInfoResponse {\n  [...]\n}\n\n// This function is called everytime your Battlesnake is entered into a game.\n// The provided GameState contains information about the game that's about to be played.\n// It's purely for informational purposes, you don't have to make any decisions here.\nfunc start(state GameState) {\n  [...]\n}\n\n// This function is called when a game your Battlesnake was in has ended.\n// It's purely for informational purposes, you don't have to make any decisions here.\nfunc end(state GameState) {\n  [...]\n}\n\n// This function is called on every turn of a game. Use the provided GameState to decide\n// where to move -- valid moves are \"up\", \"down\", \"left\", or \"right\".\n// We've provided some code and comments to get you started.\nfunc move(state GameState) BattlesnakeMoveResponse {\n  [...]\n\n\t// Step 0: Don't let your Battlesnake move back in on it's own neck\n\n  [...]\n\n\t// TODO: Step 1 - Don't hit walls.\n\n\t// TODO: Step 2 - Don't hit yourself.\n\n\t// TODO: Step 3 - Don't collide with others.\n\n\t// TODO: Step 4 - Find food.\n\n\t// TODO: Step 5 - Select a move to make based on strategy, rather than random.\n  \n  [...]\n}\n```\n\n\n### Making a web service with Heroku\n\u003e Just guiding the reader through the process of working with Heroku\n\n## Programming the snake\n\u003e Actually starting to do some programming\n\n### Making the snake beautiful\n\u003e Customize info and show how changes propagate through the whole pipeline\n\n### Making the snake not stupid\n\u003e Get through the basic challenges\n\n### Making the snake smart \n\u003e Getting food, and some heuristics\n\n\n## Beyond this tutorial\n\u003e Give some ideas on how to continue\n\n### CI/CD\n\u003e Creating a pipeline using a CI/CD tool to check if the snake will actually run\n\n### Tree snakes\n\u003e Small teaser to tree-traversal and the potentials of a better snake\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"intro-to-programming-battlesnake"},"buildId":"l3mt7_VkBX1JnSMRHKuzk","isFallback":false,"gsp":true,"scriptLoader":[]}</script><script async="" src="//static.getclicky.com/101354370.js"></script><noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/101354370ns.gif"/></p></noscript></body></html>